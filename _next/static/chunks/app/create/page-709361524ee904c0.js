(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{3970:function(e,l,i){Promise.resolve().then(i.bind(i,8524))},8524:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return Y}});var s=i(7437),r=i(2265),a=i(8543),t=i(8654),n=i(658),d=i(793),o=i(9352),c=i(1563),x=i(7757),u=i(1002),h=i(1835),m=i(7639),p=i(3484),j=i(9588),f=i(9470),Z=i(1617),g=i(4654),v=i(6383),y=i(5338),b=i(7893),C=i(5545),F=i(8725),k=i(5328),w=i(599),D=e=>{let{fields:l,onEditField:i,onDeleteField:t}=e,o=(0,r.useMemo)(()=>[...l].sort((e,l)=>e.order-l.order),[l]);if(0===l.length)return(0,s.jsxs)(y.Z,{severity:"info",children:[(0,s.jsx)(b.Z,{children:"No Fields Added"}),'No fields added yet. Click "Add Field" to get started building your form.']});let x=e=>({text:"primary",number:"success",textarea:"secondary",select:"warning",radio:"error",checkbox:"info",date:"default"})[e]||"default";return(0,s.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:o.map((e,l)=>{var r,o;return(0,s.jsx)(c.Z,{sx:{transition:"all 0.2s","&:hover":{boxShadow:4,transform:"translateY(-2px)"}},children:(0,s.jsx)(u.Z,{children:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"flex-start",gap:2,flex:1},children:[(0,s.jsx)(F.Z,{sx:{color:"grey.400",mt:.5,cursor:"move"}}),(0,s.jsxs)(a.Z,{sx:{flex:1,minWidth:0},children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:1,flexWrap:"wrap"},children:[(0,s.jsx)(n.Z,{variant:"h6",sx:{fontWeight:"semibold",color:"text.primary"},children:e.label}),(0,s.jsx)(d.Z,{label:e.type,color:x(e.type),size:"small",variant:"outlined"}),e.required&&(0,s.jsx)(d.Z,{label:"Required",color:"error",size:"small",variant:"outlined"}),(null===(r=e.derivedConfig)||void 0===r?void 0:r.isDerived)&&(0,s.jsx)(d.Z,{icon:(0,s.jsx)(k.Z,{}),label:"Derived",color:"secondary",size:"small",variant:"outlined"})]}),(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(null===(o=e.derivedConfig)||void 0===o?void 0:o.isDerived)?(0,s.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[(0,s.jsx)("strong",{children:"Formula:"}),(0,s.jsx)(a.Z,{component:"code",sx:{ml:1,px:1,py:.5,bgcolor:"grey.100",borderRadius:1,fontSize:"0.75rem"},children:e.derivedConfig.formula})]}):(0,s.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[(0,s.jsx)("strong",{children:"Default:"})," ",e.defaultValue||"None"]}),e.validationRules.length>0&&(0,s.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[(0,s.jsx)("strong",{children:"Validation:"})," ",e.validationRules.map(e=>e.type).join(", ")]}),e.options&&e.options.length>0&&(0,s.jsxs)(n.Z,{variant:"body2",color:"text.secondary",children:[(0,s.jsx)("strong",{children:"Options:"})," ",e.options.map(e=>e.label).join(", ")]})]})]})]}),(0,s.jsxs)(a.Z,{sx:{display:"flex",gap:1,opacity:{xs:1,md:0},".MuiCard-root:hover &":{opacity:1},transition:"opacity 0.2s"},children:[(0,s.jsx)(C.Z,{size:"small",onClick:()=>i(e),color:"primary",children:(0,s.jsx)(p.Z,{})}),(0,s.jsx)(C.Z,{size:"small",onClick:()=>t(e.id),color:"error",children:(0,s.jsx)(w.Z,{})})]})]})})},e.id)})})},z=i(9715),I=i(3985),S=i(6825),W=i(2347),E=i(7862),A=i(6218),N=i(5976),L=i(5716),V=i(4502),T=i(5386),R=e=>{let{validationRules:l,onChange:i,fieldType:t}=e,o=r.useMemo(()=>{let e=["required"];return["text","textarea"].includes(t)&&e.push("minLength","maxLength","email","password"),e},[t]),m=e=>l.some(l=>l.type===e),p=e=>{i([...l,{type:e,message:{required:"This field is required",minLength:"Minimum length not met",maxLength:"Maximum length exceeded",email:"Please enter a valid email address",password:"Password must be at least 8 characters and contain a number"}[e],value:["minLength","maxLength"].includes(e)?1:void 0}])},j=e=>{i(l.filter(l=>l.type!==e))},f=(e,s)=>{i(l.map(l=>l.type===e?{...l,...s}:l))};return(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(n.Z,{variant:"h6",gutterBottom:!0,color:"primary",children:"Validation Rules"}),(0,s.jsx)(a.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:o.map(e=>(0,s.jsx)(d.Z,{label:e,onClick:()=>m(e)?j(e):p(e),color:m(e)?"primary":"default",variant:m(e)?"filled":"outlined",sx:{cursor:"pointer"}},e))}),l.map(e=>(0,s.jsxs)(c.Z,{sx:{mb:2,borderLeft:4,borderLeftColor:"primary.main"},children:[(0,s.jsx)(x.Z,{title:(0,s.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(n.Z,{variant:"subtitle1",sx:{textTransform:"capitalize"},children:[e.type," Validation"]}),(0,s.jsx)(C.Z,{size:"small",onClick:()=>j(e.type),color:"error",children:(0,s.jsx)(w.Z,{})})]}),sx:{pb:1}}),(0,s.jsx)(u.Z,{sx:{pt:0},children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsx)(h.Z,{fullWidth:!0,label:"Error Message",value:e.message,onChange:l=>f(e.type,{message:l.target.value}),placeholder:"Enter error message",size:"small"}),["minLength","maxLength"].includes(e.type)&&(0,s.jsx)(h.Z,{type:"number",label:"Value",value:e.value||"",onChange:l=>f(e.type,{value:Number.parseInt(l.target.value)||0}),placeholder:"Enter numeric value",size:"small",sx:{maxWidth:200}})]})})]},e.type))]})},q=i(2961),M=i(1132),P=i(6105),O=e=>{let{derivedConfig:l,onChange:i,allFields:t}=e,[p,j]=(0,r.useState)([]),[f,Z]=(0,r.useState)(""),g=(0,r.useMemo)(()=>l||{isDerived:!1,parentFields:[],formula:"",description:""},[l]),v=(0,r.useCallback)(()=>{if(g.isDerived)try{let e=(0,P.P)(g,t);j(e)}catch(e){console.error("Validation error:",e),j(["Validation failed"])}else j([])},[g]);(0,r.useEffect)(()=>{v()},[v]);let C=(0,r.useCallback)(e=>{i({...g,isDerived:e,parentFields:e?g.parentFields:[],formula:e?g.formula:""})},[g,i]),F=(0,r.useCallback)(e=>{let l=g.parentFields,s=l.includes(e)?l.filter(l=>l!==e):[...l,e];i({...g,parentFields:s})},[g,i]),w=(0,r.useCallback)(e=>{i({...g,formula:e})},[g,i]),D=(0,r.useCallback)(e=>{i({...g,description:e})},[g,i]),z=(0,r.useCallback)(()=>{if(!g.formula){Z("No formula to test");return}try{let e={};g.parentFields.forEach(l=>{let i=t.find(e=>e.id===l);if(i)switch(i.type){case"text":e[l]="Sample Text";break;case"number":e[l]=42;break;case"date":e[l]="1990-01-01";break;default:e[l]="Sample"}});let l={};g.parentFields.forEach(i=>{let s=t.find(e=>e.id===i);s&&(l[s.label.replace(/[^a-zA-Z0-9]/g,"")]=e[i])}),l.calculateAge=e=>{let l=new Date,i=new Date(e);return l.getFullYear()-i.getFullYear()};let i=Function(...Object.keys(l),"return ".concat(g.formula))(...Object.values(l));Z("Test result: ".concat(i))}catch(e){Z("Test failed: ".concat(e instanceof Error?e.message:"Unknown error"))}},[g.formula,g.parentFields,t]),I=(0,r.useMemo)(()=>[{name:"Full Name",formula:"FirstName + ' ' + LastName",description:"Concatenate first and last name"},{name:"Age Calculation",formula:"calculateAge(DateOfBirth)",description:"Calculate age from date of birth"},{name:"Total Price",formula:"Price * Quantity",description:"Multiply price by quantity"},{name:"Percentage",formula:"Math.round((Value / Total) * 100)",description:"Calculate percentage with rounding"}],[]);return(0,s.jsxs)(a.Z,{children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,s.jsx)(k.Z,{sx:{mr:1,color:"primary.main"}}),(0,s.jsx)(n.Z,{variant:"h6",color:"primary",children:"Derived Field Configuration"})]}),(0,s.jsx)(L.Z,{control:(0,s.jsx)(V.Z,{checked:g.isDerived,onChange:e=>C(e.target.checked)}),label:"Make this a derived field",sx:{mb:2}}),g.isDerived&&(0,s.jsxs)(c.Z,{sx:{border:2,borderStyle:"dashed",borderColor:"primary.light",bgcolor:"primary.50"},children:[(0,s.jsx)(x.Z,{title:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(n.Z,{variant:"h6",color:"primary.dark",children:"Derived Field Settings"}),0===p.length&&g.formula&&(0,s.jsx)(d.Z,{icon:(0,s.jsx)(q.Z,{}),label:"Valid",color:"success",size:"small"})]})}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(n.Z,{variant:"subtitle2",gutterBottom:!0,children:"Parent Fields"}),(0,s.jsx)(o.Z,{container:!0,spacing:1,children:t.map(e=>(0,s.jsx)(o.Z,{item:!0,xs:12,sm:6,children:(0,s.jsx)(c.Z,{sx:{p:1,cursor:"pointer",border:1,borderColor:g.parentFields.includes(e.id)?"primary.main":"grey.300",bgcolor:g.parentFields.includes(e.id)?"primary.50":"white","&:hover":{borderColor:"primary.main"}},onClick:()=>F(e.id),children:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(n.Z,{variant:"body2",fontWeight:"medium",children:e.label}),(0,s.jsx)(d.Z,{label:e.type,size:"small",variant:"outlined"})]})})},e.id))}),g.parentFields.length>0&&(0,s.jsx)(a.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:g.parentFields.map(e=>{let l=t.find(l=>l.id===e);return(0,s.jsx)(d.Z,{label:(null==l?void 0:l.label)||e,size:"small",color:"primary"},e)})})]}),(0,s.jsxs)(a.Z,{children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,s.jsx)(n.Z,{variant:"subtitle2",children:"Formula"}),(0,s.jsx)(m.Z,{startIcon:(0,s.jsx)(M.Z,{}),onClick:z,variant:"outlined",size:"small",children:"Test"})]}),(0,s.jsx)(h.Z,{fullWidth:!0,multiline:!0,rows:3,value:g.formula,onChange:e=>w(e.target.value),placeholder:"e.g., calculateAge(DateOfBirth) or FirstName + ' ' + LastName",sx:{fontFamily:"monospace"}}),f&&(0,s.jsx)(y.Z,{severity:f.includes("failed")?"error":"success",sx:{mt:1},children:f})]}),(0,s.jsx)(h.Z,{fullWidth:!0,label:"Description",value:g.description||"",onChange:e=>D(e.target.value),placeholder:"Describe how this field is calculated"}),(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(n.Z,{variant:"subtitle2",gutterBottom:!0,children:"Common Formulas"}),(0,s.jsx)(o.Z,{container:!0,spacing:1,children:I.map((e,l)=>(0,s.jsx)(o.Z,{item:!0,xs:12,children:(0,s.jsxs)(c.Z,{sx:{p:1,cursor:"pointer","&:hover":{bgcolor:"grey.50"}},onClick:()=>w(e.formula),children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(n.Z,{variant:"body2",fontWeight:"medium",children:e.name}),(0,s.jsx)(n.Z,{variant:"caption",sx:{fontFamily:"monospace",bgcolor:"grey.100",px:1,py:.5,borderRadius:1},children:e.formula})]}),(0,s.jsx)(n.Z,{variant:"caption",color:"text.secondary",children:e.description})]})},l))})]}),p.length>0&&(0,s.jsxs)(y.Z,{severity:"error",children:[(0,s.jsx)(b.Z,{children:"Validation Errors"}),(0,s.jsx)(a.Z,{component:"ul",sx:{m:0,pl:2},children:p.map((e,l)=>(0,s.jsx)("li",{children:(0,s.jsx)(n.Z,{variant:"body2",children:e})},l))})]}),(0,s.jsxs)(y.Z,{severity:"info",children:[(0,s.jsx)(b.Z,{children:"Available Functions"}),(0,s.jsxs)(a.Z,{component:"ul",sx:{m:0,pl:2},children:[(0,s.jsx)("li",{children:(0,s.jsxs)(n.Z,{variant:"body2",children:[(0,s.jsx)("code",{children:"calculateAge(dateField)"})," - Calculate age from date of birth"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.Z,{variant:"body2",children:[(0,s.jsx)("code",{children:"Math.*"})," - All Math functions (round, floor, ceil, etc.)"]})}),(0,s.jsx)("li",{children:(0,s.jsx)(n.Z,{variant:"body2",children:"Field references: Use field labels without spaces and special characters"})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.Z,{variant:"body2",children:["Example: ",(0,s.jsx)("code",{children:"FirstName + ' ' + LastName"})]})})]})]})]})})]})]})},B=e=>{var l,i;let{open:t,field:p,onClose:j,onSave:Z,allFields:g}=e,[v,y]=(0,r.useState)({id:"",type:"text",label:"",required:!1,defaultValue:"",validationRules:[],options:[],order:0});(0,r.useEffect)(()=>{p?y({...p}):y({id:"",type:"text",label:"",required:!1,defaultValue:"",validationRules:[],options:[],order:0})},[p,t]);let b=e=>{y({...v,type:e,options:["select","radio"].includes(e)?[{label:"",value:""}]:[]})},F=(e,l)=>{let i=[...v.options||[]];i[e]=l,y({...v,options:i})},k=e=>{let l=[...v.options||[]];l.splice(e,1),y({...v,options:l})},D=["select","radio"].includes(v.type);return(0,s.jsxs)(z.Z,{open:t,onClose:j,maxWidth:"lg",fullWidth:!0,children:[(0,s.jsx)(I.Z,{sx:{pb:1},children:(0,s.jsx)(n.Z,{variant:"h5",component:"div",children:p?"Edit Field":"Add New Field"})}),(0,s.jsxs)(S.Z,{sx:{pb:2},children:[(0,s.jsxs)(o.Z,{container:!0,spacing:3,sx:{mt:.5},children:[(0,s.jsx)(o.Z,{item:!0,xs:12,md:6,children:(0,s.jsxs)(c.Z,{elevation:2,children:[(0,s.jsx)(x.Z,{title:(0,s.jsx)(n.Z,{variant:"h6",color:"primary",children:"Basic Configuration"})}),(0,s.jsx)(u.Z,{sx:{pt:0},children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,s.jsxs)(W.Z,{fullWidth:!0,children:[(0,s.jsx)(E.Z,{children:"Field Type"}),(0,s.jsx)(A.Z,{value:v.type,label:"Field Type",onChange:e=>b(e.target.value),children:[{value:"text",label:"Text Input"},{value:"number",label:"Number Input"},{value:"textarea",label:"Text Area"},{value:"select",label:"Select Dropdown"},{value:"radio",label:"Radio Buttons"},{value:"checkbox",label:"Checkbox"},{value:"date",label:"Date Picker"}].map(e=>(0,s.jsx)(N.Z,{value:e.value,children:e.label},e.value))})]}),(0,s.jsx)(h.Z,{fullWidth:!0,label:"Field Label",value:v.label,onChange:e=>y({...v,label:e.target.value}),placeholder:"Enter field label"}),(0,s.jsx)(h.Z,{fullWidth:!0,label:"Default Value",value:v.defaultValue||"",onChange:e=>y({...v,defaultValue:e.target.value}),placeholder:"Enter default value"}),(0,s.jsx)(L.Z,{control:(0,s.jsx)(V.Z,{checked:v.required,onChange:e=>y({...v,required:e.target.checked})}),label:"Required field"})]})})]})}),D&&(0,s.jsx)(o.Z,{item:!0,xs:12,md:6,children:(0,s.jsxs)(c.Z,{elevation:2,children:[(0,s.jsx)(x.Z,{title:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(n.Z,{variant:"h6",color:"primary",children:"Options"}),(0,s.jsx)(d.Z,{label:"".concat((null===(l=v.options)||void 0===l?void 0:l.length)||0," options"),size:"small",color:"secondary"})]})}),(0,s.jsx)(u.Z,{sx:{pt:0},children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[null===(i=v.options)||void 0===i?void 0:i.map((e,l)=>(0,s.jsxs)(a.Z,{sx:{display:"flex",gap:1,alignItems:"flex-end"},children:[(0,s.jsx)(h.Z,{label:"Label",value:e.label,onChange:i=>F(l,{...e,label:i.target.value}),placeholder:"Option label",size:"small",sx:{flex:1}}),(0,s.jsx)(h.Z,{label:"Value",value:e.value,onChange:i=>F(l,{...e,value:i.target.value}),placeholder:"Option value",size:"small",sx:{flex:1}}),(0,s.jsx)(C.Z,{onClick:()=>k(l),color:"error",size:"small",children:(0,s.jsx)(w.Z,{})})]},l)),(0,s.jsx)(m.Z,{startIcon:(0,s.jsx)(f.Z,{}),onClick:()=>{let e=[...v.options||[]];e.push({label:"",value:""}),y({...v,options:e})},variant:"outlined",fullWidth:!0,sx:{mt:1},children:"Add Option"})]})})]})})]}),(0,s.jsx)(a.Z,{sx:{mt:3},children:(0,s.jsx)(c.Z,{elevation:2,children:(0,s.jsx)(u.Z,{children:(0,s.jsx)(R,{validationRules:v.validationRules,onChange:e=>y({...v,validationRules:e}),fieldType:v.type})})})}),(0,s.jsx)(a.Z,{sx:{mt:3},children:(0,s.jsx)(c.Z,{elevation:2,children:(0,s.jsx)(u.Z,{children:(0,s.jsx)(O,{derivedConfig:v.derivedConfig,onChange:e=>y({...v,derivedConfig:e}),allFields:g.filter(e=>e.id!==v.id)})})})})]}),(0,s.jsxs)(T.Z,{sx:{px:3,pb:3},children:[(0,s.jsx)(m.Z,{onClick:j,variant:"outlined",children:"Cancel"}),(0,s.jsx)(m.Z,{onClick:()=>{Z(v),j()},variant:"contained",color:"primary",children:p?"Update Field":"Add Field"})]})]})},_=i(7610),U=i(2113),Y=()=>{let e=(0,_.T)(),{currentForm:l}=(0,_.C)(e=>e.formBuilder),[i,y]=(0,r.useState)(null),[b,C]=(0,r.useState)(!1),{enqueueSnackbar:F}=(0,g.Ds)();(0,r.useEffect)(()=>{e((0,U.wI)())},[e]);let k=!!l.id;return(0,s.jsx)(v.Z,{children:(0,s.jsxs)(a.Z,{sx:{mb:4},children:[(0,s.jsxs)(t.Z,{sx:{p:4,mb:4,textAlign:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[k?(0,s.jsx)(p.Z,{sx:{fontSize:40,mr:1}}):(0,s.jsx)(j.Z,{sx:{fontSize:40,mr:1}}),(0,s.jsx)(n.Z,{variant:"h3",component:"h1",fontWeight:"bold",children:k?"Edit Form":"Form Builder"})]}),(0,s.jsx)(n.Z,{variant:"h6",sx:{maxWidth:600,mx:"auto",opacity:.9},children:k?"Update your form with validation rules, derived fields, and professional styling":"Create dynamic forms with validation rules, derived fields, and professional styling"}),k&&(0,s.jsx)(d.Z,{label:"Editing existing form",color:"secondary",sx:{mt:2,bgcolor:"rgba(255,255,255,0.2)",color:"white"}})]}),(0,s.jsxs)(o.Z,{container:!0,spacing:4,children:[(0,s.jsx)(o.Z,{item:!0,xs:12,lg:8,children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,s.jsxs)(c.Z,{sx:{border:2,borderStyle:"dashed",borderColor:"primary.light"},children:[(0,s.jsx)(x.Z,{title:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(n.Z,{variant:"h6",children:"Form Configuration"}),l.name&&(0,s.jsx)(d.Z,{label:"".concat(l.fields.length," fields"),color:"secondary",size:"small"})]})}),(0,s.jsx)(u.Z,{children:(0,s.jsx)(h.Z,{fullWidth:!0,label:"Form Name",value:l.name,onChange:l=>e((0,U.b2)(l.target.value)),placeholder:"Enter your form name",variant:"outlined",sx:{fontSize:"1.1rem"}})})]}),(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(x.Z,{title:(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(n.Z,{variant:"h6",children:"Form Fields"}),(0,s.jsx)(m.Z,{variant:"contained",startIcon:(0,s.jsx)(f.Z,{}),onClick:()=>{y(null),C(!0)},sx:{bgcolor:"primary.main"},children:"Add Field"})]})}),(0,s.jsx)(u.Z,{children:(0,s.jsx)(D,{fields:l.fields,onEditField:e=>{y(e),C(!0)},onDeleteField:l=>{e((0,U.AK)(l)),F("Field deleted successfully",{variant:"success"})}})})]})]})}),(0,s.jsx)(o.Z,{item:!0,xs:12,lg:4,children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:3,position:"sticky",top:24},children:[(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(x.Z,{title:(0,s.jsx)(n.Z,{variant:"h6",children:"Form Actions"})}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsx)(m.Z,{variant:"contained",startIcon:(0,s.jsx)(Z.Z,{}),onClick:()=>{if(!l.name.trim()){F("Please enter a form name",{variant:"error"});return}if(0===l.fields.length){F("Please add at least one field",{variant:"error"});return}e((0,U.kh)()),l.id?F("Form updated successfully",{variant:"success"}):F("Form created successfully! Starting new form.",{variant:"success"})},disabled:!l.name.trim()||0===l.fields.length,color:"success",size:"large",fullWidth:!0,children:k?"Update Form":"Save Form"}),(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:1,color:"text.secondary",fontSize:"0.875rem"},children:[(0,s.jsx)(n.Z,{variant:"body2",children:"✓ Forms are saved to your browser's local storage"}),(0,s.jsx)(n.Z,{variant:"body2",children:"✓ Add validation rules and derived fields"}),(0,s.jsx)(n.Z,{variant:"body2",children:"✓ Preview your form before saving"}),k&&(0,s.jsx)(n.Z,{variant:"body2",color:"primary.main",fontWeight:"medium",children:"✓ Changes will update the existing form"})]})]})})]}),l.fields.length>0&&(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(x.Z,{title:(0,s.jsx)(n.Z,{variant:"h6",children:"Form Statistics"})}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(n.Z,{children:"Total Fields:"}),(0,s.jsx)(d.Z,{label:l.fields.length,color:"primary",size:"small"})]}),(0,s.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(n.Z,{children:"Required Fields:"}),(0,s.jsx)(d.Z,{label:l.fields.filter(e=>e.required).length,color:"error",size:"small"})]}),(0,s.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(n.Z,{children:"Derived Fields:"}),(0,s.jsx)(d.Z,{label:l.fields.filter(e=>{var l;return null===(l=e.derivedConfig)||void 0===l?void 0:l.isDerived}).length,color:"secondary",size:"small"})]})]})})]})]})})]}),(0,s.jsx)(B,{open:b,field:i,onClose:()=>C(!1),onSave:l=>{i?(e((0,U.L4)(l)),F("Field updated successfully",{variant:"success"})):(e((0,U.xS)(l)),F("Field added successfully",{variant:"success"}))},allFields:l.fields})]})})}}},function(e){e.O(0,[869,815,590,236,391,959,603,971,117,744],function(){return e(e.s=3970)}),_N_E=e.O()}]);